{"version":3,"sources":["webpack://lib_diff_test/./node_modules/@babel/runtime/helpers/construct.js","webpack://lib_diff_test/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://lib_diff_test/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://lib_diff_test/ResizeObserver.ts","webpack://lib_diff_test/wrapper.ts","webpack://lib_diff_test/./node_modules/resize-observer-polyfill/dist/ResizeObserver.js"],"names":["setPrototypeOf","require","isNativeReflectConstruct","_construct","Parent","args","Class","module","exports","Reflect","construct","a","push","apply","Constructor","Function","bind","instance","prototype","arguments","_isNativeReflectConstruct","sham","Proxy","Date","toString","call","e","_setPrototypeOf","o","p","Object","__proto__","global","factory","define","MapShim","Map","getIndex","arr","key","result","some","entry","index","anonymous","__entries__","prototypeAccessors","size","configurable","get","length","set","value","delete","entries","splice","has","clear","forEach","callback","ctx","this$1","i","list","defineProperties","isBrowser","window","document","global$1","Math","self","requestAnimationFrame$1","requestAnimationFrame","setTimeout","now","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","ref","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","target","props","keys","defineProperty","enumerable","writable","getWindowOf","ownerGlobal","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","len","reduce","position","getPaddings","paddings","getSVGContentRect","bbox","getBBox","width","height","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","horizPad","left","right","vertPad","top","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","documentElement","getContentRect","createReadOnlyRect","x","y","Constr","DOMRectReadOnly","rect","create","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","map","WeakMap","ResizeObserver","method"],"mappings":"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","file":"runtime/ResizeObserver.f7a4e9a525507e3dcfda.bundle.js","sourcesContent":["var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","import global from './global';\nimport has from '../core/has';\n`!has('build-elide')`;\nimport * as Resize from 'resize-observer-polyfill';\nimport wrapper from './util/wrapper';\n\nexport interface DOMRectReadOnly {\n\treadonly x: number;\n\treadonly y: number;\n\treadonly width: number;\n\treadonly height: number;\n\treadonly top: number;\n\treadonly right: number;\n\treadonly bottom: number;\n\treadonly left: number;\n}\n\nexport interface ResizeObserverCallback {\n\t(entries: ResizeObserverEntry[], observer: ResizeObserver): void;\n}\n\nexport interface ResizeObserverEntry {\n\treadonly target: Element;\n\treadonly contentRect: DOMRectReadOnly;\n}\n\nexport interface ResizeObserver {\n\tobserve(target: Element): void;\n\tunobserve(target: Element): void;\n\tdisconnect(): void;\n}\n\ndeclare var ResizeObserver: {\n\tprototype: ResizeObserver;\n\tnew (callback: ResizeObserverCallback): ResizeObserver;\n};\n\nif (!has('build-elide')) {\n\tif (!global.ResizeObserver) {\n\t\t// default is undefined when UMD module is used\n\t\tglobal.ResizeObserver = Resize.default || Resize;\n\t}\n}\n\nexport default wrapper('ResizeObserver', true) as typeof ResizeObserver;\n","import global from '../global';\nimport has from '../../core/has';\n\nexport default function wrapper(nameOnGlobal: string, constructor = false, bind = false): any {\n\tif (has('test')) {\n\t\tif (constructor) {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn new global[nameOnGlobal](...args);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn global[nameOnGlobal](...args);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn bind ? global[nameOnGlobal].bind(global) : global[nameOnGlobal];\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ResizeObserver = factory());\n}(this, (function () { 'use strict';\n\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = (function () {\n    if (typeof Map !== 'undefined') {\n        return Map;\n    }\n\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\n    function getIndex(arr, key) {\n        var result = -1;\n\n        arr.some(function (entry, index) {\n            if (entry[0] === key) {\n                result = index;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        return result;\n    }\n\n    return (function () {\n        function anonymous() {\n            this.__entries__ = [];\n        }\n\n        var prototypeAccessors = { size: { configurable: true } };\n\n        /**\r\n         * @returns {boolean}\r\n         */\n        prototypeAccessors.size.get = function () {\n            return this.__entries__.length;\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\n        anonymous.prototype.get = function (key) {\n            var index = getIndex(this.__entries__, key);\n            var entry = this.__entries__[index];\n\n            return entry && entry[1];\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.set = function (key, value) {\n            var index = getIndex(this.__entries__, key);\n\n            if (~index) {\n                this.__entries__[index][1] = value;\n            } else {\n                this.__entries__.push([key, value]);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.delete = function (key) {\n            var entries = this.__entries__;\n            var index = getIndex(entries, key);\n\n            if (~index) {\n                entries.splice(index, 1);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.has = function (key) {\n            return !!~getIndex(this.__entries__, key);\n        };\n\n        /**\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.clear = function () {\n            this.__entries__.splice(0);\n        };\n\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.forEach = function (callback, ctx) {\n            var this$1 = this;\n            if ( ctx === void 0 ) ctx = null;\n\n            for (var i = 0, list = this$1.__entries__; i < list.length; i += 1) {\n                var entry = list[i];\n\n                callback.call(ctx, entry[1], entry[0]);\n            }\n        };\n\n        Object.defineProperties( anonymous.prototype, prototypeAccessors );\n\n        return anonymous;\n    }());\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\nvar global$1 = (function () {\n    if (typeof global !== 'undefined' && global.Math === Math) {\n        return global;\n    }\n\n    if (typeof self !== 'undefined' && self.Math === Math) {\n        return self;\n    }\n\n    if (typeof window !== 'undefined' && window.Math === Math) {\n        return window;\n    }\n\n    // eslint-disable-next-line no-new-func\n    return Function('return this')();\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\nvar requestAnimationFrame$1 = (function () {\n    if (typeof requestAnimationFrame === 'function') {\n        // It's required to use a bounded function because IE sometimes throws\n        // an \"Invalid calling object\" error if rAF is invoked without the global\n        // object on the left hand side.\n        return requestAnimationFrame.bind(global$1);\n    }\n\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\n})();\n\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\nvar throttle = function (callback, delay) {\n    var leadingCall = false,\n        trailingCall = false,\n        lastCallTime = 0;\n\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\n    function resolvePending() {\n        if (leadingCall) {\n            leadingCall = false;\n\n            callback();\n        }\n\n        if (trailingCall) {\n            proxy();\n        }\n    }\n\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\n    function timeoutCallback() {\n        requestAnimationFrame$1(resolvePending);\n    }\n\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\n    function proxy() {\n        var timeStamp = Date.now();\n\n        if (leadingCall) {\n            // Reject immediately following calls.\n            if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n            }\n\n            // Schedule new call to be in invoked when the pending one is resolved.\n            // This is important for \"transitions\" which never actually start\n            // immediately so there is a chance that we might miss one if change\n            // happens amids the pending invocation.\n            trailingCall = true;\n        } else {\n            leadingCall = true;\n            trailingCall = false;\n\n            setTimeout(timeoutCallback, delay);\n        }\n\n        lastCallTime = timeStamp;\n    }\n\n    return proxy;\n};\n\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\nvar ResizeObserverController = function() {\n    this.connected_ = false;\n    this.mutationEventsAdded_ = false;\n    this.mutationsObserver_ = null;\n    this.observers_ = [];\n\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n};\n\n/**\r\n * Adds observer to observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be added.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Holds reference to the controller's instance.\r\n *\r\n * @private {ResizeObserverController}\r\n */\n\n\n/**\r\n * Keeps reference to the instance of MutationObserver.\r\n *\r\n * @private {MutationObserver}\r\n */\n\n/**\r\n * Indicates whether DOM listeners have been added.\r\n *\r\n * @private {boolean}\r\n */\nResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n        this.observers_.push(observer);\n    }\n\n    // Add listeners if they haven't been added yet.\n    if (!this.connected_) {\n        this.connect_();\n    }\n};\n\n/**\r\n * Removes observer from observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer);\n\n    // Remove observer if it's present in registry.\n    if (~index) {\n        observers.splice(index, 1);\n    }\n\n    // Remove listeners if controller has no connected observers.\n    if (!observers.length && this.connected_) {\n        this.disconnect_();\n    }\n};\n\n/**\r\n * Invokes the update of observers. It will continue running updates insofar\r\n * it detects changes.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_();\n\n    // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n    if (changesDetected) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Updates every observer from observers list and notifies them of queued\r\n * entries.\r\n *\r\n * @private\r\n * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n *  dimensions of it's elements.\r\n */\nResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n        return observer.gatherActive(), observer.hasActive();\n    });\n\n    // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n    activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n\n    return activeObservers.length > 0;\n};\n\n/**\r\n * Initializes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n        return;\n    }\n\n    // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n        this.mutationsObserver_ = new MutationObserver(this.refresh);\n\n        this.mutationsObserver_.observe(document, {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true\n        });\n    } else {\n        document.addEventListener('DOMSubtreeModified', this.refresh);\n\n        this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n};\n\n/**\r\n * Removes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n        return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n        this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n        document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n};\n\n/**\r\n * \"Transitionend\" event handler.\r\n *\r\n * @private\r\n * @param {TransitionEvent} event\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.onTransitionEnd_ = function (ref) {\n        var propertyName = ref.propertyName; if ( propertyName === void 0 ) propertyName = '';\n\n    // Detect whether transition may affect dimensions of an element.\n    var isReflowProperty = transitionKeys.some(function (key) {\n        return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Returns instance of the ResizeObserverController.\r\n *\r\n * @returns {ResizeObserverController}\r\n */\nResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n        this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n};\n\nResizeObserverController.instance_ = null;\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\nvar defineConfigurable = (function (target, props) {\n    for (var i = 0, list = Object.keys(props); i < list.length; i += 1) {\n        var key = list[i];\n\n        Object.defineProperty(target, key, {\n            value: props[key],\n            enumerable: false,\n            writable: false,\n            configurable: true\n        });\n    }\n\n    return target;\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\nvar getWindowOf = (function (target) {\n    // Assume that the element is an instance of Node, which means that it\n    // has the \"ownerDocument\" property from which we can retrieve a\n    // corresponding global object.\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n\n    // Return the local global object if it's not possible extract one from\n    // provided element.\n    return ownerGlobal || global$1;\n});\n\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\nfunction toFloat(value) {\n    return parseFloat(value) || 0;\n}\n\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\nfunction getBordersSize(styles) {\n    var positions = [], len = arguments.length - 1;\n    while ( len-- > 0 ) positions[ len ] = arguments[ len + 1 ];\n\n    return positions.reduce(function (size, position) {\n        var value = styles['border-' + position + '-width'];\n\n        return size + toFloat(value);\n    }, 0);\n}\n\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\nfunction getPaddings(styles) {\n    var positions = ['top', 'right', 'bottom', 'left'];\n    var paddings = {};\n\n    for (var i = 0, list = positions; i < list.length; i += 1) {\n        var position = list[i];\n\n        var value = styles['padding-' + position];\n\n        paddings[position] = toFloat(value);\n    }\n\n    return paddings;\n}\n\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getSVGContentRect(target) {\n    var bbox = target.getBBox();\n\n    return createRectInit(0, 0, bbox.width, bbox.height);\n}\n\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\nfunction getHTMLElementContentRect(target) {\n    // Client width & height properties can't be\n    // used exclusively as they provide rounded values.\n    var clientWidth = target.clientWidth;\n    var clientHeight = target.clientHeight;\n\n    // By this condition we can catch all non-replaced inline, hidden and\n    // detached elements. Though elements with width & height properties less\n    // than 0.5 will be discarded as well.\n    //\n    // Without it we would need to implement separate methods for each of\n    // those cases and it's not possible to perform a precise and performance\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n    // gives wrong results for elements with width & height less than 0.5.\n    if (!clientWidth && !clientHeight) {\n        return emptyRect;\n    }\n\n    var styles = getWindowOf(target).getComputedStyle(target);\n    var paddings = getPaddings(styles);\n    var horizPad = paddings.left + paddings.right;\n    var vertPad = paddings.top + paddings.bottom;\n\n    // Computed styles of width & height are being used because they are the\n    // only dimensions available to JS that contain non-rounded values. It could\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\n    var width = toFloat(styles.width),\n        height = toFloat(styles.height);\n\n    // Width & height include paddings and borders when the 'border-box' box\n    // model is applied (except for IE).\n    if (styles.boxSizing === 'border-box') {\n        // Following conditions are required to handle Internet Explorer which\n        // doesn't include paddings and borders to computed CSS dimensions.\n        //\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\n        // properties then it's either IE, and thus we don't need to subtract\n        // anything, or an element merely doesn't have paddings/borders styles.\n        if (Math.round(width + horizPad) !== clientWidth) {\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\n        }\n\n        if (Math.round(height + vertPad) !== clientHeight) {\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n        }\n    }\n\n    // Following steps can't be applied to the document's root element as its\n    // client[Width/Height] properties represent viewport area of the window.\n    // Besides, it's as well not necessary as the <html> itself neither has\n    // rendered scroll bars nor it can be clipped.\n    if (!isDocumentElement(target)) {\n        // In some browsers (only in Firefox, actually) CSS width & height\n        // include scroll bars size which can be removed at this step as scroll\n        // bars are the only difference between rounded dimensions + paddings\n        // and \"client\" properties, though that is not always true in Chrome.\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n\n        // Chrome has a rather weird rounding of \"client\" properties.\n        // E.g. for an element with content width of 314.2px it sometimes gives\n        // the client width of 315px and for the width of 314.7px it may give\n        // 314px. And it doesn't happen all the time. So just ignore this delta\n        // as a non-relevant.\n        if (Math.abs(vertScrollbar) !== 1) {\n            width -= vertScrollbar;\n        }\n\n        if (Math.abs(horizScrollbar) !== 1) {\n            height -= horizScrollbar;\n        }\n    }\n\n    return createRectInit(paddings.left, paddings.top, width, height);\n}\n\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nvar isSVGGraphicsElement = (function () {\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n    // interface.\n    if (typeof SVGGraphicsElement !== 'undefined') {\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\n    }\n\n    // If it's so, then check that element is at least an instance of the\n    // SVGElement and that it has the \"getBBox\" method.\n    // eslint-disable-next-line no-extra-parens\n    return function (target) { return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function'; };\n})();\n\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nfunction isDocumentElement(target) {\n    return target === getWindowOf(target).document.documentElement;\n}\n\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getContentRect(target) {\n    if (!isBrowser) {\n        return emptyRect;\n    }\n\n    if (isSVGGraphicsElement(target)) {\n        return getSVGContentRect(target);\n    }\n\n    return getHTMLElementContentRect(target);\n}\n\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\nfunction createReadOnlyRect(ref) {\n    var x = ref.x;\n    var y = ref.y;\n    var width = ref.width;\n    var height = ref.height;\n\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n    var rect = Object.create(Constr.prototype);\n\n    // Rectangle's properties are not writable and non-enumerable.\n    defineConfigurable(rect, {\n        x: x, y: y, width: width, height: height,\n        top: y,\n        right: x + width,\n        bottom: height + y,\n        left: x\n    });\n\n    return rect;\n}\n\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\nfunction createRectInit(x, y, width, height) {\n    return { x: x, y: y, width: width, height: height };\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\nvar ResizeObservation = function(target) {\n    this.broadcastWidth = 0;\n    this.broadcastHeight = 0;\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n\n    this.target = target;\n};\n\n/**\r\n * Updates content rectangle and tells whether it's width or height properties\r\n * have changed since the last broadcast.\r\n *\r\n * @returns {boolean}\r\n */\n\n\n/**\r\n * Reference to the last observed content rectangle.\r\n *\r\n * @private {DOMRectInit}\r\n */\n\n\n/**\r\n * Broadcasted width of content rectangle.\r\n *\r\n * @type {number}\r\n */\nResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n\n    this.contentRect_ = rect;\n\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n};\n\n/**\r\n * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n * from the corresponding properties of the last observed content rectangle.\r\n *\r\n * @returns {DOMRectInit} Last observed content rectangle.\r\n */\nResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n\n    return rect;\n};\n\nvar ResizeObserverEntry = function(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit);\n\n    // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n    defineConfigurable(this, { target: target, contentRect: contentRect });\n};\n\nvar ResizeObserverSPI = function(callback, controller, callbackCtx) {\n    this.activeObservations_ = [];\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n        throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n};\n\n/**\r\n * Starts observing provided element.\r\n *\r\n * @param {Element} target - Element to be observed.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Registry of the ResizeObservation instances.\r\n *\r\n * @private {Map<Element, ResizeObservation>}\r\n */\n\n\n/**\r\n * Public ResizeObserver instance which will be passed to the callback\r\n * function and used as a value of it's \"this\" binding.\r\n *\r\n * @private {ResizeObserver}\r\n */\n\n/**\r\n * Collection of resize observations that have detected changes in dimensions\r\n * of elements.\r\n *\r\n * @private {Array<ResizeObservation>}\r\n */\nResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is already being observed.\n    if (observations.has(target)) {\n        return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n\n    this.controller_.addObserver(this);\n\n    // Force the update of observations.\n    this.controller_.refresh();\n};\n\n/**\r\n * Stops observing provided element.\r\n *\r\n * @param {Element} target - Element to stop observing.\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is not being observed.\n    if (!observations.has(target)) {\n        return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n        this.controller_.removeObserver(this);\n    }\n};\n\n/**\r\n * Stops observing all elements.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n};\n\n/**\r\n * Collects observation instances the associated element of which has changed\r\n * it's content rectangle.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.gatherActive = function () {\n        var this$1 = this;\n\n    this.clearActive();\n\n    this.observations_.forEach(function (observation) {\n        if (observation.isActive()) {\n            this$1.activeObservations_.push(observation);\n        }\n    });\n};\n\n/**\r\n * Invokes initial callback function with a list of ResizeObserverEntry\r\n * instances collected from active resize observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n        return;\n    }\n\n    var ctx = this.callbackCtx_;\n\n    // Create ResizeObserverEntry instance for every active observation.\n    var entries = this.activeObservations_.map(function (observation) {\n        return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n};\n\n/**\r\n * Clears the collection of active observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n};\n\n/**\r\n * Tells whether observer has active observations.\r\n *\r\n * @returns {boolean}\r\n */\nResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n};\n\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\nvar ResizeObserver = function(callback) {\n    if (!(this instanceof ResizeObserver)) {\n        throw new TypeError('Cannot call a class as a function.');\n    }\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n\n    observers.set(this, observer);\n};\n\n// Expose public methods of ResizeObserver.\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n    ResizeObserver.prototype[method] = function () {\n        return (ref = observers.get(this))[method].apply(ref, arguments);\n        var ref;\n    };\n});\n\nvar index = (function () {\n    // Export existing implementation if available.\n    if (typeof global$1.ResizeObserver !== 'undefined') {\n        return global$1.ResizeObserver;\n    }\n\n    return ResizeObserver;\n})();\n\nreturn index;\n\n})));\n"],"sourceRoot":""}